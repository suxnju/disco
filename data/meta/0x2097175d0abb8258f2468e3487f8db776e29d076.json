{
	"Language": "Solidity",
	"Source": "// Copyright New Alchemy Limited, 2017. All rights reserved.\r\n\r\npragma solidity >=0.4.10;\r\n\r\n// Just the bits of ERC20 that we need.\r\ncontract Token {\r\n\tfunction balanceOf(address addr) returns(uint);\r\n\tfunction transfer(address to, uint amount) returns(bool);\r\n}\r\n\r\ncontract Sale {\r\n\taddress public owner;    // contract owner\r\n\taddress public newOwner; // new contract owner for two-way ownership handshake\r\n\tstring public notice;    // arbitrary public notice text\r\n\tuint public start;       // start time of sale\r\n\tuint public end;         // end time of sale\r\n\tuint public cap;         // Ether hard cap\r\n\tbool public live;        // sale is live right now\r\n\r\n\tevent StartSale();\r\n\tevent EndSale();\r\n\tevent EtherIn(address from, uint amount);\r\n\r\n\tfunction Sale() {\r\n\t\towner = msg.sender;\r\n\t}\r\n\r\n\tmodifier onlyOwner() {\r\n\t\trequire(msg.sender == owner);\r\n\t\t_;\r\n\t}\r\n\r\n\tfunction () payable {\r\n\t\trequire(block.timestamp >= start);\r\n\r\n\t\t// If we've reached end-of-sale conditions, accept\r\n\t\t// this as the last contribution and emit the EndSale event.\r\n\t\t// (Technically this means we allow exactly one contribution\r\n\t\t// after the end of the sale.)\r\n\t\t// Conversely, if we haven't started the sale yet, emit\r\n\t\t// the StartSale event.\r\n\t\tif (block.timestamp > end || this.balance > cap) {\r\n\t\t\trequire(live);\r\n\t\t\tlive = false;\r\n\t\t\tEndSale();\r\n\t\t} else if (!live) {\r\n\t\t\tlive = true;\r\n\t\t\tStartSale();\r\n\t\t}\r\n\t\tEtherIn(msg.sender, msg.value);\r\n\t}\r\n\r\n\tfunction init(uint _start, uint _end, uint _cap) onlyOwner {\r\n\t\tstart = _start;\r\n\t\tend = _end;\r\n\t\tcap = _cap;\r\n\t}\r\n\r\n\tfunction softCap(uint _newend) onlyOwner {\r\n\t\trequire(_newend >= block.timestamp && _newend >= start && _newend <= end);\r\n\t\tend = _newend;\r\n\t}\r\n\r\n\t// 1st half of ownership change\r\n\tfunction changeOwner(address next) onlyOwner {\r\n\t\tnewOwner = next;\r\n\t}\r\n\r\n\t// 2nd half of ownership change\r\n\tfunction acceptOwnership() {\r\n\t\trequire(msg.sender == newOwner);\r\n\t\towner = msg.sender;\r\n\t\tnewOwner = 0;\r\n\t}\r\n\r\n\t// put some text in the contract\r\n\tfunction setNotice(string note) onlyOwner {\r\n\t\tnotice = note;\r\n\t}\r\n\r\n\t// withdraw all of the Ether\r\n\tfunction withdraw() onlyOwner {\r\n\t\tmsg.sender.transfer(this.balance);\r\n\t}\r\n\r\n\t// withdraw some of the Ether\r\n\tfunction withdrawSome(uint value) onlyOwner {\r\n\t\trequire(value <= this.balance);\r\n\t\tmsg.sender.transfer(value);\r\n\t}\r\n\r\n\t// withdraw tokens to owner\r\n\tfunction withdrawToken(address token) onlyOwner {\r\n\t\tToken t = Token(token);\r\n\t\trequire(t.transfer(msg.sender, t.balanceOf(this)));\r\n\t}\r\n\r\n\t// refund early/late tokens\r\n\tfunction refundToken(address token, address sender, uint amount) onlyOwner {\r\n\t\tToken t = Token(token);\r\n\t\trequire(t.transfer(sender, amount));\r\n\t}\r\n}",
	"ContractName": "Sale",
	"CompilerVersion": "v0.4.14+commit.c2215d46"
}