{
	"Language": "Solidity",
	"Source": "pragma solidity ^0.5.8;\r\n\r\ncontract LoteoPoker {\r\n\r\n    mapping (bytes32 => bool) private paymentIds;\r\n\r\n    event GameStarted(address _contract);\r\n    event PaymentReceived(address _player, uint _amount);\r\n    event PaymentMade(address _player, address _issuer, uint _amount);\r\n    event UnauthorizedCashoutAttempt(address _bandit, uint _amount);\r\n\r\n    constructor()\r\n        public\r\n    {\r\n        emit GameStarted(address(this));\r\n    }\r\n\r\n    function buyCredit(bytes32 _paymentId)\r\n        public\r\n        payable\r\n        returns (bool success)\r\n    {\r\n        address payable player = msg.sender;\r\n        uint amount = msg.value;\r\n        paymentIds[_paymentId] = true;\r\n        emit PaymentReceived(player, amount);\r\n        return true;\r\n    }\r\n\r\n    function verifyPayment(bytes32 _paymentId)\r\n        public\r\n        view\r\n        returns (bool success)\r\n    {\r\n        return paymentIds[_paymentId];\r\n    }\r\n\r\n    function cashOut(address payable _player, uint _amount)\r\n        public\r\n        payable\r\n        returns (bool success)\r\n    {\r\n        address payable paymentIssuer = msg.sender;\r\n        address permitedIssuer = 0xB3b8D45A26d16Adb41278aa8685538B937487B15;\r\n\r\n        if(paymentIssuer!=permitedIssuer) {\r\n            emit UnauthorizedCashoutAttempt(paymentIssuer, _amount);\r\n            return false;\r\n        }\r\n\r\n        _player.transfer(_amount);\r\n\r\n        emit PaymentMade(_player, paymentIssuer, _amount);\r\n        return true;\r\n    }\r\n\r\n    function payRoyalty()\r\n        public\r\n        payable\r\n        returns (bool success)\r\n    {\r\n        uint royalty = address(this).balance/2;\r\n        address payable trustedParty1 = 0xcdAD2D448583C1d9084F54c0d207b3eBE0398490;\r\n        address payable trustedParty2 = 0xD204C49C66011787EF62d9DFD820Fd32E07AF7F6;\r\n        trustedParty1.transfer((royalty*10)/100);\r\n        trustedParty2.transfer((royalty*90)/100);\r\n        return true;\r\n    }\r\n\r\n    function getContractBalance()\r\n        public\r\n        view\r\n        returns (uint balance)\r\n    {\r\n        return address(this).balance;\r\n    }\r\n\r\n}",
	"ContractName": "LoteoPoker",
	"CompilerVersion": "v0.5.8+commit.23d335f2"
}