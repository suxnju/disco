{
	"Language": "Solidity",
	"Source": "pragma solidity ^0.4.11;\r\ncontract MinerShare {\r\n\t// \u5408\u7d04\u7684\u5275\u5efa\u8005\r\n\taddress public owner = 0x0;\r\n\t// \u5df2\u7d93\u88ab\u63d0\u9818\u7684\u7e3d\u91cf\r\n\tuint public totalWithdrew = 0;\r\n\t// \u76ee\u524d\u6709\u591a\u5c11\u4f4d\u80a1\u6771\r\n\tuint public userNumber = 0;\r\n\t// \u76e3\u807d\u65b0\u589e\u80a1\u6771\u7684\u4e8b\u4ef6\r\n\tevent LogAddUser(address newUser);\r\n\t// \u76e3\u807d\u79fb\u9664\u80a1\u6771\u7684\u4e8b\u4ef6\r\n\tevent LogRmUser(address rmUser);\r\n\t// \u76e3\u807d\u80a1\u6771\u63d0\u9818\u7684\u4e8b\u4ef6\r\n\tevent LogWithdrew(address sender, uint amount);\r\n\t// \u5132\u5b58\u80a1\u6771\u5011\u7684 ETH Address\r\n\tmapping(address => uint) public usersAddress;\r\n\t// \u7d00\u9304\u6bcf\u500b\u80a1\u6771\u5df2\u7d93\u63d0\u9818\u7684\u6578\u91cf\r\n\tmapping(address => uint) public usersWithdrew;\r\n\r\n\tmodifier onlyOwner() {\r\n\t\trequire(owner == msg.sender);\r\n\t\t_;\r\n\t}\r\n\r\n\tmodifier onlyMember() {\r\n\t\trequire(usersAddress[msg.sender] != 0);\r\n\t\t_;\r\n\t}\r\n\r\n\t// \u5275\u5efa\u5be6\u9ad4\uff0c\u8a3b\u518a\u5275\u5efa\u8005\r\n\tfunction MinerShare() {\r\n\t\towner = msg.sender;\r\n\t}\r\n\r\n\t// \u65b0\u589e\u80a1\u6771\r\n\tfunction AddUser(address newUser) onlyOwner{\r\n\t\tif (usersAddress[newUser] == 0) {\r\n\t\t\tusersAddress[newUser] = 1;\r\n\t\t\tuserNumber += 1;\r\n\t\t\tLogAddUser(newUser);\r\n\t\t}\r\n\t}\r\n\r\n\t// \u79fb\u9664\u80a1\u6771\r\n\tfunction RemoveUser(address rmUser) onlyOwner {\r\n\t\tif (usersAddress[rmUser] == 1) {\r\n\t\t\tusersAddress[rmUser] = 0;\r\n\t\t\tuserNumber -= 1;\r\n\t\t\tLogRmUser(rmUser);\r\n\t\t}\r\n\t}\r\n\r\n\t// \u80a1\u6771\u63d0\u9818\r\n\tfunction Withdrew() onlyMember {\r\n\t\t// \u5be6\u969b\u7e3d\u984d\u70ba\u6b64 contract \u7684 balance \u8207\u5df2\u7d93\u63d0\u9818\u6578\u91cf\u7684\u7e3d\u548c\r\n\t\tuint totalMined = this.balance + totalWithdrew;\r\n\t\t// \u53ef\u4ee5\u63d0\u9818\u7684\u6578\u91cf\u70ba \u5be6\u969b\u7e3d\u984d\u9664\u4ee5\u80a1\u6771\u7e3d\u6578 \u6e1b\u53bb \u8a72\u80a1\u6771\u5df2\u7d93\u63d0\u9818\u7684\u6578\u91cf\r\n\t\tuint avaliableWithdrew = totalMined/userNumber - usersWithdrew[msg.sender];\r\n\t\t// \u6539\u8b8a\u63d0\u9818\u6578\u91cf\r\n\t\tusersWithdrew[msg.sender] += avaliableWithdrew;\r\n\t\t// \u6539\u8b8a\u7e3d\u63d0\u9818\u6578\u91cf\r\n\t\ttotalWithdrew += avaliableWithdrew;\r\n\t\t// \u6aa2\u67e5\u662f\u5426\u70ba\u5408\u6cd5\u7684\u63d0\u9818\r\n\t\tif (avaliableWithdrew > 0) {\r\n\t\t\t// \u8f49\u79fb ETH \u81f3\u80a1\u6771\u7684 address\r\n\t\t\tmsg.sender.transfer(avaliableWithdrew);\r\n\t\t\tLogWithdrew(msg.sender, avaliableWithdrew);\r\n\t\t} else\r\n\t\t\tthrow;\r\n\t}\r\n\r\n\t// \u8b93\u6b64 contract \u53ef\u4ee5\u6536\u9322\r\n\tfunction () payable {}\r\n}",
	"ContractName": "MinerShare",
	"CompilerVersion": "v0.4.11+commit.68ef5810"
}